(function(e){function t(t){for(var r,a,c=t[0],i=t[1],s=t[2],f=0,l=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(l.length)l.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function c(e){return i.p+"static/js/"+({about:"about"}[e]||e)+"."+{about:"eaaaf9bb","chunk-2d0bce9d":"aa559f70","chunk-2d0d6ae4":"5a20535f","chunk-30f5e720":"0fc85f99","chunk-5114a256":"4c579b95","chunk-616b5784":"49043425","chunk-0197933c":"f161add6","chunk-62f569a8":"5f983e59","chunk-774cb0ce":"7305d545","chunk-7c243e4a":"bd6eae58","chunk-7ed2efe8":"ffd52541","chunk-acbc9f06":"7c9d5991"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-30f5e720":1,"chunk-5114a256":1,"chunk-0197933c":1,"chunk-62f569a8":1,"chunk-774cb0ce":1,"chunk-7c243e4a":1,"chunk-7ed2efe8":1,"chunk-acbc9f06":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="static/css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-2d0bce9d":"31d6cfe0","chunk-2d0d6ae4":"31d6cfe0","chunk-30f5e720":"67522273","chunk-5114a256":"79c24c8a","chunk-616b5784":"31d6cfe0","chunk-0197933c":"989a88de","chunk-62f569a8":"53004265","chunk-774cb0ce":"66758e78","chunk-7c243e4a":"6a400890","chunk-7ed2efe8":"cf6c57f7","chunk-acbc9f06":"cf6c57f7"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],f=s.getAttribute("data-href");if(f===r||f===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],d.parentNode.removeChild(d),n(u)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(e);var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=f;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],u=(n("ba11"),n("2877")),c={},i=Object(u["a"])(c,a,o,!1,null,null,null),s=i.exports,f=n("a18c"),l=n("2f62"),d=(n("b0c0"),{campus:function(e){return e.common.campus},types:function(e){return e.common.types},username:function(e){return e.user.username},password:function(e){return e.user.password},name:function(e){return e.user.name},avatar:function(e){return e.user.avatar},email:function(e){return e.user.email}}),p=d,h=(n("d81d"),n("b775"));function m(){return Object(h["a"])({url:"/common/info/campus",method:"get"})}function b(){return Object(h["a"])({url:"/common/info/types",method:"get"})}var v={campus:[],types:[]},g={SET_CAMPUS:function(e,t){e.campus=t},SET_TYPES:function(e,t){e.types=t}},k={getCampus:function(e){var t=e.commit;m().then((function(e){var n=e.data;0===n.length&&console.error("campus为空！");var r=n.map((function(e){return e.name}));t("SET_CAMPUS",r)}))},getTypes:function(e){var t=e.commit;b().then((function(e){var n=e.data;0===n.length&&console.error("types为空！");var r=n.map((function(e){return e.type}));t("SET_TYPES",r)}))}},S={namespaced:!0,state:v,mutations:g,actions:k},E=(n("d3b7"),n("b64b"),n("c24f")),_=n("5f87"),y=function(){return{username:"",password:"",name:"",avatar:"",email:""}},w=y(),O={RESET_STATE:function(e){Object.assign(e,y())},SET_USERNAME:function(e,t){e.username=t},SET_PASSWORD:function(e,t){e.password=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_EMAIL:function(e,t){e.email=t}},T={getInfo:function(e){var t=e.commit;return new Promise((function(e,n){Object(E["a"])().then((function(n){var r=n.data;t("SET_USERNAME",r.username),t("SET_PASSWORD",r.password),t("SET_NAME",r.name),t("SET_AVATAR",r.avatar),t("SET_EMAIL",r.email),e()})).catch((function(e){console.error("获取用户信息失败！"),n(e)}))}))},logout:function(e){var t=e.commit;return new Promise((function(e,n){Object(E["c"])().then((function(){Object(_["b"])(),t("RESET_STATE"),e()})).catch((function(e){n(e)}))}))},updateInfo:function(e,t){var n=e.commit;return new Promise((function(e,r){Object(E["d"])(t).then((function(){var r=Object.keys(t)[0];switch(r){case"name":n("SET_NAME",t[r]);break;case"password":n("SET_PASSWORD",t[r]);break;case"avatar":n("SET_AVATAR",t[r]);break;case"email":n("SET_EMAIL",t[r]);break}e()})).catch((function(e){r(e)}))}))}},j={namespaced:!0,state:w,mutations:O,actions:T};r["default"].use(l["a"]);var A=new l["a"].Store({modules:{common:S,user:j},getters:p}),x=n("5c96"),P=n.n(x),M=(n("0fae"),n("b29b"),n("c7eb")),I=n("1da1"),N=n("323e"),C=n.n(N),L=(n("a5d8"),["/login","/lost","/found","/help"]);f["a"].beforeEach(function(){var e=Object(I["a"])(Object(M["a"])().mark((function e(t,n,r){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:C.a.start(),a=Object(_["a"])(),a?"/login"===t.path?r({path:"/"}):(A.getters.username||A.dispatch("user/getInfo"),r()):-1!==L.indexOf(t.path)?r():r("/login?redirect=".concat(t.path));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),f["a"].afterEach((function(){C.a.done()})),r["default"].use(P.a),r["default"].config.productionTip=!1,new r["default"]({router:f["a"],store:A,render:function(e){return e(s)}}).$mount("#app")},"5f87":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));n("e9c4"),n("852e");var r="user_token",a=18e3;function o(e){var t=new Date(1*new Date+1e3*a),n={token:e,expires:t};localStorage.setItem(r,JSON.stringify(n))}function u(){if(localStorage.getItem(r)){var e=JSON.parse(localStorage.getItem(r)),t=e.token,n=e.expires;n=new Date(n);var a=new Date;return a>=n?(c(),null):t}return null}function c(){localStorage.removeItem(r)}},"9a37":function(e,t,n){},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var r=n("2b0e"),a=n("8c4f"),o=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",[t("navbar")],1),t("el-main",[t("app-main")],1),t("el-footer",[t("page-footer")],1)],1)},u=[],c=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"/lost"}},[t("router-link",{attrs:{to:"/lost",tag:"div"}},[e._v("失物招领")])],1),t("el-menu-item",{attrs:{index:"/found"}},[t("router-link",{attrs:{to:"/found",tag:"div"}},[e._v("寻物启事")])],1),t("el-menu-item",{attrs:{index:"/help"}},[t("router-link",{attrs:{to:"/help",tag:"div"}},[e._v("帮助 & 联系我们")])],1),t("el-menu-item",{attrs:{index:"/user"}},[t("router-link",{attrs:{to:"/user",tag:"div"}},[e._v("个人中心")])],1)],1)},i=[],s=(n("fb6a"),{name:"navbar",data:function(){return{activeIndex:"/lost"}},methods:{handleSelect:function(e,t){}},watch:{$route:function(){var e=this.$route.path,t=e.indexOf("/",1);-1!==t&&(e=e.slice(0,t)),this.activeIndex=e}}}),f=s,l=n("2877"),d=Object(l["a"])(f,c,i,!1,null,null,null),p=d.exports,h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-main"},[t("router-view",{key:e.key})],1)},m=[],b={name:"app-main",computed:{key:function(){return this.$route.path}}},v=b,g=Object(l["a"])(v,h,m,!1,null,null,null),k=g.exports,S=function(){var e=this,t=e._self._c;return t("div",[e._v(" 页脚 ")])},E=[],_={},y=Object(l["a"])(_,S,E,!1,null,null,null),w=y.exports,O={name:"Layout",components:{Navbar:p,AppMain:k,PageFooter:w}},T=O,j=Object(l["a"])(T,o,u,!1,null,null,null),A=j.exports;r["default"].use(a["a"]);var x=[{path:"/",name:"home",component:A,redirect:"/lost",children:[{path:"lost",component:function(){return n.e("chunk-2d0bce9d").then(n.bind(null,"2a80"))},children:[{path:"",name:"lost",component:function(){return n.e("chunk-acbc9f06").then(n.bind(null,"dc42"))},meta:{title:"失物招领"}},{path:"detail",name:"lost-detail",component:function(){return n.e("chunk-5114a256").then(n.bind(null,"c3bf"))}}]},{path:"found",component:function(){return n.e("chunk-774cb0ce").then(n.bind(null,"90f5"))},children:[{path:"",name:"found",component:function(){return n.e("chunk-7ed2efe8").then(n.bind(null,"4e36"))},meta:{title:"寻物启事"}},{path:"detail/:id",name:"found-detail",component:function(){return n.e("chunk-7c243e4a").then(n.bind(null,"c294"))}}]},{path:"help",name:"help",component:function(){return n.e("chunk-2d0d6ae4").then(n.bind(null,"741b"))},meta:{title:"帮助 & 联系我们"}},{path:"user",name:"user",component:function(){return Promise.all([n.e("chunk-616b5784"),n.e("chunk-62f569a8")]).then(n.bind(null,"e382"))},meta:{title:"个人中心"}}]},{path:"/submit",name:"Submit",component:function(){return Promise.all([n.e("chunk-616b5784"),n.e("chunk-0197933c")]).then(n.bind(null,"a18d"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-30f5e720").then(n.bind(null,"9ed6"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],P=new a["a"]({routes:x});t["a"]=P},b29b:function(e,t,n){},b775:function(e,t,n){"use strict";n("d3b7");var r=n("bc3a"),a=n.n(r),o=n("5f87"),u=n("5c96"),c=n("a18c"),i=a.a.create({baseURL:"https://www.timegogo.top/express/api/laf",timeout:5e3});i.interceptors.request.use((function(e){var t=Object(o["a"])();return t&&(e.headers["x-access-token"]=t),e}),(function(e){return console.error(err),console.error("http请求拦截器出错了！"),Promise.reject(e)})),i.interceptors.response.use((function(e){return"401"===e.status&&u["Message"].confirm("身份验证过期，请重新登陆",{confirmButtonText:"重新登陆",type:"warning"}).then((function(){Object(o["b"])(),c["a"].push({path:"/login"})})),e}),(function(e){console.error(e),console.error("http响应拦截器出错了！"),Promise.reject(e)})),t["a"]=i},ba11:function(e,t,n){"use strict";n("9a37")},c24f:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c}));var r=n("b775");function a(){return Object(r["a"])({url:"/userinfo",method:"get"})}function o(e){return Object(r["a"])({url:"/login",method:"post",data:e})}function u(){return Object(r["a"])({url:"/logout",method:"post"})}function c(e){return Object(r["a"])({url:"/userinfo/update",method:"post",data:e})}}});
//# sourceMappingURL=app.fb6d0d7b.js.map